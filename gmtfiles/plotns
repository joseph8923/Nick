#####################################################
# This GMT script plots a N-S slice through a
# layered velocity model. Requires input to be
# generated by program "gmtslice".
#####################################################
#
# Open bounds file and read in variables
#
set bds=`cat boundns.gmt`
#
set bounds = "-R${bds[1]}/${bds[2]}/${bds[3]}/${bds[4]}"
set proj = "-JX8.0i/2.60i"
set psfile = "gmtslice.ps"
#
# The first step is to plot on the velocity field and scale bar
#
xyz2grd grid2dvns.z -Ggrid2dvns.grd -I${bds[5]}+/${bds[6]}+ -ZRB $bounds
grdimage grid2dvns.grd $bounds $proj -Ba0.5f0.25/a20f10 -Cvelrelative.cpt -K -P >! $psfile
psscale -Cvelrelative.cpt -Ba0.2f0.10 -D10.2/8.9/10.0/0.5h -O -K -P >> $psfile
#
# Plot interfaces.
#
psxy intns.xy $bounds $proj -M -W7/0/0/0 -O -K -P >> $psfile
#
# Plot ray paths, sources and receivers.
#
#psxy raysns.xy $bounds $proj -M -W2/0/0/0 -O -K -P >> $psfile
psxy sourcesns.xy $bounds $proj -Sa0.40 -Gred -N -W2/0/0/0 -O -K -P >> $psfile
psxy receiversns.xy $bounds $proj -Si0.40 -Gblue -N -W2/0/0/0 -O -P >> $psfile
